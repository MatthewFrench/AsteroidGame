!function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="./",e(e.s=2)}([function(t,e){function o(t,e){return{left:e.left+t.x,right:e.right+t.x,top:e.top+t.y,bottom:e.bottom+t.y}}function n(t){return{x:(t.left-t.right)/2+t.right,y:(t.top-t.bottom)/2+t.bottom}}function r(t,e,o){return i(t,e)>=o?t:{x:e.x+o*(e.x-t.x)/Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),y:e.y+o*(e.y-t.y)/Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}}function i(t,e){return Math.hypot(t.x-e.x,t.y-e.y)}function s(t){return{x:t.x,y:t.y}}function a(t,e){return{x:t.x*e,y:t.y*e}}function l(t,e){return{x:t.x+e.x,y:t.y+e.y}}function u(t,e){return{x:t.x-e.x,y:t.y-e.y}}function c(t,e){return{x:t.x*Math.cos(e)-t.y*Math.sin(e),y:t.x*Math.sin(e)+t.y*Math.cos(e)}}function y(t){return Math.atan2(t.y,t.x)}function f(t,e){return c({x:t,y:0},e)}function h(t,e){return t.x*e.x+t.y*e.y}function d(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function p(t,e){return f(d(t)+e,y(t))}function v(t,e,o){return l(t,f(e,o))}function g(t,e){if(d(t)>e)return f(e,y(t));return t}function x(t){var e=d(t);return{x:t.x/e,y:t.y/e}}t.exports={add:l,subtract:u,scale:a,rotate:c,dotProduct:h,magnitude:d,normalize:x,getRotation:y,addMagnitude:p,create:f,addMagnitudeAtAngle:v,limitMagnitude:g,clone:s,distanceBetween:i,pushVectorOutsideRadius:r,addVectorToBounds:o,getBoundCenter:n}},function(t,e,o){"use strict";function n(){}function r(t){try{return t.then}catch(t){return g=t,x}}function i(t,e){try{return t(e)}catch(t){return g=t,x}}function s(t,e,o){try{t(e,o)}catch(t){return g=t,x}}function a(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,t!==n&&p(t,this)}function l(t,e,o){return new t.constructor(function(r,i){var s=new a(n);s.then(r,i),u(t,new d(e,o,s))})}function u(t,e){for(;3===t._83;)t=t._18;if(a._47&&a._47(t),0===t._83)return 0===t._75?(t._75=1,void(t._38=e)):1===t._75?(t._75=2,void(t._38=[t._38,e])):void t._38.push(e);c(t,e)}function c(t,e){v(function(){var o=1===t._83?e.onFulfilled:e.onRejected;if(null===o)return void(1===t._83?y(e.promise,t._18):f(e.promise,t._18));var n=i(o,t._18);n===x?f(e.promise,g):y(e.promise,n)})}function y(t,e){if(e===t)return f(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"===typeof e||"function"===typeof e)){var o=r(e);if(o===x)return f(t,g);if(o===t.then&&e instanceof a)return t._83=3,t._18=e,void h(t);if("function"===typeof o)return void p(o.bind(e),t)}t._83=1,t._18=e,h(t)}function f(t,e){t._83=2,t._18=e,a._71&&a._71(t,e),h(t)}function h(t){if(1===t._75&&(u(t,t._38),t._38=null),2===t._75){for(var e=0;e<t._38.length;e++)u(t,t._38[e]);t._38=null}}function d(t,e,o){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=o}function p(t,e){var o=!1,n=s(t,function(t){o||(o=!0,y(e,t))},function(t){o||(o=!0,f(e,t))});o||n!==x||(o=!0,f(e,g))}var v=o(5),g=null,x={};t.exports=a,a._47=null,a._71=null,a._44=n,a.prototype.then=function(t,e){if(this.constructor!==a)return l(this,t,e);var o=new a(n);return u(this,new d(t,e,o)),o}},function(t,e,o){o(3),t.exports=o(10)},function(t,e,o){"use strict";"undefined"===typeof Promise&&(o(4).enable(),window.Promise=o(7)),o(8),Object.assign=o(9)},function(t,e,o){"use strict";function n(){u=!1,a._47=null,a._71=null}function r(t){function e(e){(t.allRejections||s(y[e].error,t.whitelist||l))&&(y[e].displayId=c++,t.onUnhandled?(y[e].logged=!0,t.onUnhandled(y[e].displayId,y[e].error)):(y[e].logged=!0,i(y[e].displayId,y[e].error)))}function o(e){y[e].logged&&(t.onHandled?t.onHandled(y[e].displayId,y[e].error):y[e].onUnhandled||(console.warn("Promise Rejection Handled (id: "+y[e].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+y[e].displayId+".")))}t=t||{},u&&n(),u=!0;var r=0,c=0,y={};a._47=function(t){2===t._83&&y[t._56]&&(y[t._56].logged?o(t._56):clearTimeout(y[t._56].timeout),delete y[t._56])},a._71=function(t,o){0===t._75&&(t._56=r++,y[t._56]={displayId:null,error:o,timeout:setTimeout(e.bind(null,t._56),s(o,l)?100:2e3),logged:!1})}}function i(t,e){console.warn("Possible Unhandled Promise Rejection (id: "+t+"):"),((e&&(e.stack||e))+"").split("\n").forEach(function(t){console.warn("  "+t)})}function s(t,e){return e.some(function(e){return t instanceof e})}var a=o(1),l=[ReferenceError,TypeError,RangeError],u=!1;e.disable=n,e.enable=r},function(t,e,o){"use strict";(function(e){function o(t){s.length||(i(),a=!0),s[s.length]=t}function n(){for(;l<s.length;){var t=l;if(l+=1,s[t].call(),l>u){for(var e=0,o=s.length-l;e<o;e++)s[e]=s[e+l];s.length-=l,l=0}}s.length=0,l=0,a=!1}function r(t){return function(){function e(){clearTimeout(o),clearInterval(n),t()}var o=setTimeout(e,0),n=setInterval(e,50)}}t.exports=o;var i,s=[],a=!1,l=0,u=1024,c="undefined"!==typeof e?e:self,y=c.MutationObserver||c.WebKitMutationObserver;i="function"===typeof y?function(t){var e=1,o=new y(t),n=document.createTextNode("");return o.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}(n):r(n),o.requestFlush=i,o.makeRequestCallFromTimer=r}).call(e,o(6))},function(t,e){var o;o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(o=window)}t.exports=o},function(t,e,o){"use strict";function n(t){var e=new r(r._44);return e._83=1,e._18=t,e}var r=o(1);t.exports=r;var i=n(!0),s=n(!1),a=n(null),l=n(void 0),u=n(0),c=n("");r.resolve=function(t){if(t instanceof r)return t;if(null===t)return a;if(void 0===t)return l;if(!0===t)return i;if(!1===t)return s;if(0===t)return u;if(""===t)return c;if("object"===typeof t||"function"===typeof t)try{var e=t.then;if("function"===typeof e)return new r(e.bind(t))}catch(t){return new r(function(e,o){o(t)})}return n(t)},r.all=function(t){var e=Array.prototype.slice.call(t);return new r(function(t,o){function n(s,a){if(a&&("object"===typeof a||"function"===typeof a)){if(a instanceof r&&a.then===r.prototype.then){for(;3===a._83;)a=a._18;return 1===a._83?n(s,a._18):(2===a._83&&o(a._18),void a.then(function(t){n(s,t)},o))}var l=a.then;if("function"===typeof l){return void new r(l.bind(a)).then(function(t){n(s,t)},o)}}e[s]=a,0===--i&&t(e)}if(0===e.length)return t([]);for(var i=e.length,s=0;s<e.length;s++)n(s,e[s])})},r.reject=function(t){return new r(function(e,o){o(t)})},r.race=function(t){return new r(function(e,o){t.forEach(function(t){r.resolve(t).then(e,o)})})},r.prototype.catch=function(t){return this.then(null,t)}},function(t,e){!function(t){"use strict";function e(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function o(t){return"string"!==typeof t&&(t=String(t)),t}function n(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return g.iterable&&(e[Symbol.iterator]=function(){return e}),e}function r(t){this.map={},t instanceof r?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function i(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function s(t){return new Promise(function(e,o){t.onload=function(){e(t.result)},t.onerror=function(){o(t.error)}})}function a(t){var e=new FileReader,o=s(e);return e.readAsArrayBuffer(t),o}function l(t){var e=new FileReader,o=s(e);return e.readAsText(t),o}function u(t){for(var e=new Uint8Array(t),o=new Array(e.length),n=0;n<e.length;n++)o[n]=String.fromCharCode(e[n]);return o.join("")}function c(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"===typeof t)this._bodyText=t;else if(g.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(g.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(g.arrayBuffer&&g.blob&&b(t))this._bodyArrayBuffer=c(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!m(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(t)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(t){var e=t.toUpperCase();return w.indexOf(e)>-1?e:t}function h(t,e){e=e||{};var o=e.body;if(t instanceof h){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new r(e.headers)),this.method=f(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function d(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var o=t.split("="),n=o.shift().replace(/\+/g," "),r=o.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(r))}}),e}function p(t){var e=new r;return t.split(/\r?\n/).forEach(function(t){var o=t.split(":"),n=o.shift().trim();if(n){var r=o.join(":").trim();e.append(n,r)}}),e}function v(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new r(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var g={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(g.arrayBuffer)var x=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(t){return t&&DataView.prototype.isPrototypeOf(t)},m=ArrayBuffer.isView||function(t){return t&&x.indexOf(Object.prototype.toString.call(t))>-1};r.prototype.append=function(t,n){t=e(t),n=o(n);var r=this.map[t];this.map[t]=r?r+","+n:n},r.prototype.delete=function(t){delete this.map[e(t)]},r.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(t,n){this.map[e(t)]=o(n)},r.prototype.forEach=function(t,e){for(var o in this.map)this.map.hasOwnProperty(o)&&t.call(e,this.map[o],o,this)},r.prototype.keys=function(){var t=[];return this.forEach(function(e,o){t.push(o)}),n(t)},r.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),n(t)},r.prototype.entries=function(){var t=[];return this.forEach(function(e,o){t.push([o,e])}),n(t)},g.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},y.call(h.prototype),y.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var P=[301,302,303,307,308];v.redirect=function(t,e){if(-1===P.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},t.Headers=r,t.Request=h,t.Response=v,t.fetch=function(t,e){return new Promise(function(o,n){var r=new h(t,e),i=new XMLHttpRequest;i.onload=function(){var t={status:i.status,statusText:i.statusText,headers:p(i.getAllResponseHeaders()||"")};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var e="response"in i?i.response:i.responseText;o(new v(e,t))},i.onerror=function(){n(new TypeError("Network request failed"))},i.ontimeout=function(){n(new TypeError("Network request failed"))},i.open(r.method,r.url,!0),"include"===r.credentials&&(i.withCredentials=!0),"responseType"in i&&g.blob&&(i.responseType="blob"),r.headers.forEach(function(t,e){i.setRequestHeader(e,t)}),i.send("undefined"===typeof r._bodyInit?null:r._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(t,e,o){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},o=0;o<10;o++)e["_"+String.fromCharCode(o)]=o;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var o,a,l=n(t),u=1;u<arguments.length;u++){o=Object(arguments[u]);for(var c in o)i.call(o,c)&&(l[c]=o[c]);if(r){a=r(o);for(var y=0;y<a.length;y++)s.call(o,a[y])&&(l[a[y]]=o[a[y]])}}return l}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(11),r=(o.n(n),o(12));window.onload=function(){new r.a}},function(t,e){},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=o(13),i=o(14),s=o(0),a=(o.n(s),o(15)),l=(o.n(a),o(16)),u=o(17),c=function t(){var e=this;n(this,t),this.resetGame=function(){e.ship=new r.a,e.laserStopwatch=new l.a,e.lasers=[],e.asteroids=[],e.existingAsteroidCollision=[];for(var t=0;t<10;t++){var o=new u.a;e.asteroids.push(o)}e.score=0,e.lives=3,e.level=1,e.playerInvulnerabilityTimer=0},this.onKeyDown=function(t){38===t.keyCode?e.upPressed=!0:40===t.keyCode?e.downPressed=!0:37===t.keyCode?e.leftPressed=!0:39===t.keyCode?e.rightPressed=!0:32===t.keyCode&&(e.spacePressed=!0)},this.onKeyUp=function(t){38===t.keyCode?e.upPressed=!1:40===t.keyCode?e.downPressed=!1:37===t.keyCode?e.leftPressed=!1:39===t.keyCode?e.rightPressed=!1:32===t.keyCode&&(e.spacePressed=!1)},this.runShipAsteroidCollision=function(){var t=!1,o=e.ship.getWarpBoundsAndPolygons(),n=!0,r=!1,i=void 0;try{t:for(var s,l=o[Symbol.iterator]();!(n=(s=l.next()).done);n=!0)for(var u=s.value,c=u.bounds,y=u.polygon,f=0;f<e.asteroids.length;f++){var h=e.asteroids[f],d=h.getWarpBoundsAndPolygons(),p=!0,v=!1,g=void 0;try{for(var x,b=d[Symbol.iterator]();!(p=(x=b.next()).done);p=!0){var m=x.value;if(a.boundsIntersect(m.bounds,c))for(var w=m.polygon,P=0;P<w.length;P++){var _=w[P],A=void 0;A=P===w.length-1?w[0]:w[P+1];for(var T=0;T<y.length;T++){var B=y[T],I=void 0;I=T===y.length-1?y[0]:y[T+1];var M=a.getLineIntersection(_,A,B,I);if(null!==M){t=!0;break t}}}}}catch(t){v=!0,g=t}finally{try{!p&&b.return&&b.return()}finally{if(v)throw g}}}}catch(t){r=!0,i=t}finally{try{!n&&l.return&&l.return()}finally{if(r)throw i}}if(t&&0===e.playerInvulnerabilityTimer){new Audio("/ShipDestroyed.wav").play(),e.lives--,0===e.lives?(e.lives=3,setTimeout(function(){e.resetGame()},0)):e.playerInvulnerabilityTimer=180}e.playerInvulnerabilityTimer>0&&e.playerInvulnerabilityTimer--},this.runLaserAsteroidCollision=function(){for(var t=0;t<e.lasers.length;t++){var o=e.lasers[t],n=o.getWorldBounds(),r=o.getWorldPolygon(),i=!1;t:for(var l=0;l<e.asteroids.length;l++){var c=function(t){var o=e.asteroids[t],l=o.getWarpBoundsAndPolygons(),c=!0,y=!1,f=void 0;try{for(var h,d=l[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var p=h.value;if(a.boundsIntersect(p.bounds,n))for(var v=p.polygon,g=0;g<v.length;g++){var x=v[g],b=void 0;b=g===v.length-1?v[0]:v[g+1];for(var m=0;m<r.length;m++){var w=r[m],P=void 0;P=m===r.length-1?r[0]:r[m+1];var _=a.getLineIntersection(x,b,w,P);if(null!==_){if(i=!0,e.asteroids.splice(t,1),e.existingAsteroidCollision=e.existingAsteroidCollision.filter(function(t){return t[0]!==o&&t[1]!==o}),o.scale>1){var A=new u.a;A.scale=o.scale/2,A.position=s.clone(o.position),e.asteroids.push(A);var T=new u.a;T.scale=o.scale/2,T.position=s.clone(o.position),e.asteroids.push(T)}return e.score++,"break|asteroidLoop"}}}}}catch(t){y=!0,f=t}finally{try{!c&&d.return&&d.return()}finally{if(y)throw f}}}(l);if("break|asteroidLoop"===c)break t}(o.position.x<-50||o.position.x>810||o.position.y<-50||o.position.y>530)&&(i=!0),i&&(e.lasers.splice(t,1),t--)}},this.runAsteroidCollision=function(){for(var t=0;t<e.asteroids.length;t++)!function(t){for(var o=!1,n=e.asteroids[t],r=n.getWarpBoundsAndPolygons(),i=t+1;i<e.asteroids.length;i++)!function(t){var i=e.asteroids[t],l=[],u=!0,c=!1,y=void 0;try{for(var f,h=r[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var d=f.value,p=i.getWarpBoundsAndPolygons(),v=!0,g=!1,x=void 0;try{for(var b,m=p[Symbol.iterator]();!(v=(b=m.next()).done);v=!0){var w=b.value;if(a.boundsIntersect(d.bounds,w.bounds))for(var P=d.polygon,_=w.polygon,A=0;A<P.length;A++){var T=P[A],B=void 0;B=A===P.length-1?P[0]:P[A+1];for(var I=0;I<_.length;I++){var M=_[I],S=void 0;S=I===_.length-1?_[0]:_[I+1];var C=a.getLineIntersection(T,B,M,S);null!==C&&l.push({point:C,asteroid1Center:s.getBoundCenter(d.bounds),asteroid2Center:s.getBoundCenter(w.bounds)})}}}}catch(t){g=!0,x=t}finally{try{!v&&m.return&&m.return()}finally{if(g)throw x}}}}catch(t){c=!0,y=t}finally{try{!u&&h.return&&h.return()}finally{if(c)throw y}}var E=void 0!==e.existingAsteroidCollision.find(function(t){return t[0]===n&&t[1]===i||t[0]===i&&t[1]===n});if(l.length>0&&!E){o=!0;var j={x:0,y:0},O={x:0,y:0},V=0,R=0,k=!0,U=!1,W=void 0;try{for(var L,F=l[Symbol.iterator]();!(k=(L=F.next()).done);k=!0){var D=L.value,q=D.point;V=D.asteroid1Center,R=D.asteroid2Center;var H=s.normalize(s.subtract(q,V)),N=s.normalize(s.subtract(R,q));j=s.add(H,j),O=s.add(N,O)}}catch(t){U=!0,W=t}finally{try{!k&&F.return&&F.return()}finally{if(U)throw W}}j=s.normalize(j),O=s.normalize(O);var G=n.getScale(),z=i.getScale();j.x,n.velocity.x,i.velocity.x,j.y,n.velocity.y,i.velocity.y,O.x,i.velocity.x,n.velocity.x,O.y,i.velocity.y,n.velocity.y;n.velocity.x*=-1,n.velocity.y*=-1,i.velocity.x*=-1,i.velocity.y*=-1;var K=Math.atan2(R.y-V.y,R.x-V.x)-Math.PI/2;n.velocity=s.create(s.magnitude(n.velocity),K-Math.PI/2),i.velocity=s.create(s.magnitude(i.velocity),K+Math.PI/2),e.existingAsteroidCollision.push([n,i]);new Audio("/AsteroidHit.wav").play()}else 0===l.length&&E&&(e.existingAsteroidCollision=e.existingAsteroidCollision.filter(function(t){return!(t[0]===n&&t[1]===i||t[0]===i&&t[1]===n)}))}(i)}(t)},this.update=function(){e.leftPressed?e.ship.setAngularVelocity(-.08):e.rightPressed?e.ship.setAngularVelocity(.08):e.ship.setAngularVelocity(0);var t=e.ship.getVelocity();e.upPressed?(t=s.addMagnitudeAtAngle(t,.08,e.ship.getAngle()),t=s.limitMagnitude(t,2)):e.downPressed&&(t=s.scale(t,.99)),e.ship.setVelocity(t),e.ship.update();var o=!0,n=!1,a=void 0;try{for(var l,c=e.asteroids[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){l.value.update()}}catch(t){n=!0,a=t}finally{try{!o&&c.return&&c.return()}finally{if(n)throw a}}e.runAsteroidCollision();var y=!0,f=!1,h=void 0;try{for(var d,p=e.lasers[Symbol.iterator]();!(y=(d=p.next()).done);y=!0){d.value.update()}}catch(t){f=!0,h=t}finally{try{!y&&p.return&&p.return()}finally{if(f)throw h}}if(e.runLaserAsteroidCollision(),e.runShipAsteroidCollision(),e.spacePressed&&e.laserStopwatch.getSeconds()>=.05){e.laserStopwatch.reset();var v=new i.a;v.setPosition(s.add(e.ship.position,s.create(20,e.ship.angle))),v.setAngle(e.ship.angle),v.setVelocity(s.addMagnitudeAtAngle(e.ship.getVelocity(),8,e.ship.angle)),e.lasers.push(v);new Audio("/LaserShot.wav").play()}if(0===e.asteroids.length){e.level++,e.ship=new r.a;for(var g=0;g<10;g++){var x=new u.a;e.asteroids.push(x)}}},this.render=function(){e.context.clearRect(0,0,e.canvas.width,e.canvas.height);var t=!0,o=!1,n=void 0;try{for(var r,i=e.asteroids[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){r.value.render(e.context)}}catch(t){o=!0,n=t}finally{try{!t&&i.return&&i.return()}finally{if(o)throw n}}var s=!0,a=!1,l=void 0;try{for(var u,c=e.lasers[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){u.value.render(e.context)}}catch(t){a=!0,l=t}finally{try{!s&&c.return&&c.return()}finally{if(a)throw l}}e.playerInvulnerabilityTimer>0?e.ship.setColor("blue"):e.ship.setColor("black"),e.ship.render(e.context),e.context.font="15px Helvetica",e.context.fillText("Level: "+e.level,5,15),e.context.fillText("Score: "+e.score,5,35),e.context.fillText("Lives: "+e.lives,5,55)},this.loop=function(){e.render(),e.update(),requestAnimationFrame(e.loop)},this.canvas=document.createElement("canvas"),this.canvas.width=760,this.canvas.height=480,this.canvas.className="GameCanvas",this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp),this.downPressed=!1,this.upPressed=!1,this.leftPressed=!1,this.rightPressed=!1,this.spacePressed=!1,this.resetGame(),requestAnimationFrame(this.loop)};e.a=c},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=o(0),i=(o.n(r),function t(){var e=this;n(this,t),this.getPosition=function(){return{x:e.position.x,y:e.position.y}},this.setVelocity=function(t){e.velocity.x=t.x,e.velocity.y=t.y},this.getVelocity=function(){return{x:e.velocity.x,y:e.velocity.y}},this.setAngularVelocity=function(t){e.angularVelocity=t},this.getAngularVelocity=function(){return e.angularVelocity},this.getAngle=function(){return e.angle},this.setColor=function(t){e.color=t},this.update=function(){e.position=r.add(e.position,e.velocity),e.position.x<0&&(e.position.x+=760),e.position.x>760&&(e.position.x-=760),e.position.y<0&&(e.position.y+=480),e.position.y>480&&(e.position.y-=480),e.angle+=e.angularVelocity,e.angle<0&&(e.angle+=2*Math.PI),e.angle>2*Math.PI&&(e.angle-=2*Math.PI)},this.getBounds=function(){var t={left:null,right:null,top:null,bottom:null},o=!0,n=!1,i=void 0;try{for(var s,a=e.polygon[Symbol.iterator]();!(o=(s=a.next()).done);o=!0){var l=s.value,u=r.rotate(l,e.angle);null===t.left?(t.left=u.x,t.right=u.x,t.top=u.y,t.bottom=u.y):(u.x<t.left?t.left=u.x:u.x>t.right&&(t.right=u.x),u.y<t.top?t.top=u.y:u.y>t.bottom&&(t.bottom=u.y))}}catch(t){n=!0,i=t}finally{try{!o&&a.return&&a.return()}finally{if(n)throw i}}return t.left=(t.left-2)*e.scale,t.right=(t.right+2)*e.scale,t.top=(t.top-2)*e.scale,t.bottom=(t.bottom+2)*e.scale,t},this.getWorldBounds=function(){return r.addVectorToBounds(e.position,e.getBounds())},this.getPolygon=function(){var t=[],o=!0,n=!1,i=void 0;try{for(var s,a=e.polygon[Symbol.iterator]();!(o=(s=a.next()).done);o=!0){var l=s.value,u=r.rotate(l,e.angle);u=r.scale(u,e.scale),t.push(u)}}catch(t){n=!0,i=t}finally{try{!o&&a.return&&a.return()}finally{if(n)throw i}}return t},this.getWorldPolygon=function(){var t=e.getPolygon(),o=[],n=!0,i=!1,s=void 0;try{for(var a,l=t[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var u=a.value;o.push(r.add(u,e.position))}}catch(t){i=!0,s=t}finally{try{!n&&l.return&&l.return()}finally{if(i)throw s}}return o},this.getWarpPositions=function(){var t=e.getWorldBounds(),o=[];return o.push(e.position),t.left<0&&t.top<0?(o.push({x:e.position.x+760,y:e.position.y}),o.push({x:e.position.x+760,y:e.position.y+480}),o.push({x:e.position.x,y:e.position.y+480})):t.left<0&&t.bottom>480?(o.push({x:e.position.x+760,y:e.position.y}),o.push({x:e.position.x+760,y:e.position.y-480}),o.push({x:e.position.x,y:e.position.y-480})):t.right>760&&t.top<0?(o.push({x:e.position.x-760,y:e.position.y}),o.push({x:e.position.x-760,y:e.position.y+480}),o.push({x:e.position.x,y:e.position.y+480})):t.right>760&&t.bottom>480?(o.push({x:e.position.x-760,y:e.position.y}),o.push({x:e.position.x-760,y:e.position.y-480}),o.push({x:e.position.x,y:e.position.y-480})):t.left<0?o.push({x:e.position.x+760,y:e.position.y}):t.right>760?o.push({x:e.position.x-760,y:e.position.y}):t.top<0?o.push({x:e.position.x,y:e.position.y+480}):t.bottom>480&&o.push({x:e.position.x,y:e.position.y-480}),o},this.getWarpBoundsAndPolygons=function(){var t=e.getWarpPositions(),o=e.getBounds(),n=e.getPolygon(),i=[],s=!0,a=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){var y=u.value,f=r.addVectorToBounds(y,o),h=[],d=!0,p=!1,v=void 0;try{for(var g,x=n[Symbol.iterator]();!(d=(g=x.next()).done);d=!0){var b=g.value,m=r.add(b,y);h.push(m)}}catch(t){p=!0,v=t}finally{try{!d&&x.return&&x.return()}finally{if(p)throw v}}i.push({bounds:f,polygon:h})}}catch(t){a=!0,l=t}finally{try{!s&&c.return&&c.return()}finally{if(a)throw l}}return i},this.render=function(t){var o=e.getWarpPositions(),n=!0,r=!1,i=void 0;try{for(var s,a=o[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value;t.save(),t.fillStyle="white",t.translate(l.x,l.y),t.rotate(e.angle),t.beginPath(),t.strokeStyle=e.color,t.lineWidth=3,t.moveTo(e.polygon[0].x,e.polygon[0].y);var u=!0,c=!1,y=void 0;try{for(var f,h=e.polygon[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var d=f.value;t.lineTo(d.x,d.y)}}catch(t){c=!0,y=t}finally{try{!u&&h.return&&h.return()}finally{if(c)throw y}}t.closePath(),t.stroke(),t.fill(),t.restore()}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}},this.position={x:380,y:240},this.angle=-Math.PI/2,this.velocity={x:0,y:0},this.angularVelocity=0,this.color="black",this.scale=1,this.polygon=[r.rotate({x:0,y:-15},Math.PI/2),r.rotate({x:5,y:-7},Math.PI/2),r.rotate({x:5,y:15},Math.PI/2),r.rotate({x:-5,y:15},Math.PI/2),r.rotate({x:-5,y:-7},Math.PI/2)]});e.a=i},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=o(0),i=(o.n(r),function t(){var e=this;n(this,t),this.getPosition=function(){return{x:e.position.x,y:e.position.y}},this.setAngle=function(t){e.angle=t},this.setPosition=function(t){e.position.x=t.x,e.position.y=t.y},this.setVelocity=function(t){e.velocity.x=t.x,e.velocity.y=t.y},this.getVelocity=function(){return{x:e.velocity.x,y:e.velocity.y}},this.setAngularVelocity=function(t){e.angularVelocity=t},this.getAngularVelocity=function(){return e.angularVelocity},this.getAngle=function(){return e.angle},this.setColor=function(t){e.color=t},this.getNeedsRemoved=function(){return e.needsRemoved},this.update=function(){e.position=r.add(e.position,e.velocity),e.position.x<-50&&(e.needsRemoved=!0),e.position.x>810&&(e.needsRemoved=!0),e.position.y<-50&&(e.needsRemoved=!0),e.position.y>530&&(e.needsRemoved=!0),e.angle+=e.angularVelocity,e.angle<0&&(e.angle+=2*Math.PI),e.angle>2*Math.PI&&(e.angle-=2*Math.PI)},this.getBounds=function(){var t={left:null,right:null,top:null,bottom:null},o=!0,n=!1,i=void 0;try{for(var s,a=e.polygon[Symbol.iterator]();!(o=(s=a.next()).done);o=!0){var l=s.value,u=r.rotate(l,e.angle);null===t.left?(t.left=u.x,t.right=u.x,t.top=u.y,t.bottom=u.y):(u.x<t.left?t.left=u.x:u.x>t.right&&(t.right=u.x),u.y<t.top?t.top=u.y:u.y>t.bottom&&(t.bottom=u.y))}}catch(t){n=!0,i=t}finally{try{!o&&a.return&&a.return()}finally{if(n)throw i}}return t.left=(t.left-2)*e.scale,t.right=(t.right+2)*e.scale,t.top=(t.top-2)*e.scale,t.bottom=(t.bottom+2)*e.scale,t},this.getWorldBounds=function(){return r.addVectorToBounds(e.position,e.getBounds())},this.getPolygon=function(){var t=[],o=!0,n=!1,i=void 0;try{for(var s,a=e.polygon[Symbol.iterator]();!(o=(s=a.next()).done);o=!0){var l=s.value,u=r.rotate(l,e.angle);u=r.scale(u,e.scale),t.push(u)}}catch(t){n=!0,i=t}finally{try{!o&&a.return&&a.return()}finally{if(n)throw i}}return t},this.getWorldPolygon=function(){var t=e.getPolygon(),o=[],n=!0,i=!1,s=void 0;try{for(var a,l=t[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var u=a.value;o.push(r.add(u,e.position))}}catch(t){i=!0,s=t}finally{try{!n&&l.return&&l.return()}finally{if(i)throw s}}return o},this.render=function(t){t.save(),t.translate(e.position.x,e.position.y),t.rotate(e.angle),t.beginPath(),t.strokeStyle=e.color,t.lineWidth=1,t.moveTo(e.polygon[0].x,e.polygon[0].y);var o=!0,n=!1,r=void 0;try{for(var i,s=e.polygon[Symbol.iterator]();!(o=(i=s.next()).done);o=!0){var a=i.value;t.lineTo(a.x,a.y)}}catch(t){n=!0,r=t}finally{try{!o&&s.return&&s.return()}finally{if(n)throw r}}t.closePath(),t.stroke(),t.fill(),t.restore()},this.position={x:380,y:240},this.angle=-Math.PI/2,this.velocity={x:0,y:0},this.angularVelocity=0,this.color="black",this.scale=1,this.polygon=[r.rotate({x:-1,y:-10},Math.PI/2),r.rotate({x:1,y:-10},Math.PI/2),r.rotate({x:1,y:10},Math.PI/2),r.rotate({x:-1,y:10},Math.PI/2)],this.needsRemoved=!1});e.a=i},function(t,e){function o(t,e){return!(t.left>e.right||e.left>t.right)&&!(t.top>e.bottom||e.top>t.bottom)}function n(t,e,o,n){var r=n.y-o.y,i=n.x-o.x,s=e.x-t.x,a=e.y-t.y,l=r*s-i*a;if(0===l)return null;var u=t.y-o.y,c=t.x-o.x,y=i*u-r*c,f=s*u-a*c,h=y/l,d=f/l,p=t.x+u*s,v=t.y+u*a;return h>0&&h<1&&d>0&&d<1?{x:p,y:v}:null}t.exports={boundsIntersect:o,getLineIntersection:n}},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function t(){var e=this;n(this,t),this.reset=function(){e.time=performance.now()},this.getSeconds=function(){return e.getMilliseconds()/1e3},this.getMilliseconds=function(){return performance.now()-e.time},this.reset()};e.a=r},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=o(0),i=(o.n(r),function t(){var e=this;n(this,t),this.getPosition=function(){return{x:e.position.x,y:e.position.y}},this.setVelocity=function(t){e.velocity.x=t.x,e.velocity.y=t.y},this.getVelocity=function(){return{x:e.velocity.x,y:e.velocity.y}},this.getScale=function(){return e.scale},this.setAngularVelocity=function(t){e.angularVelocity=t},this.getAngularVelocity=function(){return e.angularVelocity},this.getAngle=function(){return e.angle},this.setColor=function(t){e.color=t},this.update=function(){e.position=r.add(e.position,e.velocity),e.position.x<0&&(e.position.x+=760),e.position.x>760&&(e.position.x-=760),e.position.y<0&&(e.position.y+=480),e.position.y>480&&(e.position.y-=480),e.angle+=e.angularVelocity,e.angle<0&&(e.angle+=2*Math.PI),e.angle>2*Math.PI&&(e.angle-=2*Math.PI)},this.getBounds=function(){var t={left:null,right:null,top:null,bottom:null},o=!0,n=!1,i=void 0;try{for(var s,a=e.polygon[Symbol.iterator]();!(o=(s=a.next()).done);o=!0){var l=s.value,u=r.rotate(l,e.angle);null===t.left?(t.left=u.x,t.right=u.x,t.top=u.y,t.bottom=u.y):(u.x<t.left?t.left=u.x:u.x>t.right&&(t.right=u.x),u.y<t.top?t.top=u.y:u.y>t.bottom&&(t.bottom=u.y))}}catch(t){n=!0,i=t}finally{try{!o&&a.return&&a.return()}finally{if(n)throw i}}return t.left=(t.left-2)*e.scale,t.right=(t.right+2)*e.scale,t.top=(t.top-2)*e.scale,t.bottom=(t.bottom+2)*e.scale,t},this.getWorldBounds=function(){return r.addVectorToBounds(e.position,e.getBounds())},this.getPolygon=function(){var t=[],o=!0,n=!1,i=void 0;try{for(var s,a=e.polygon[Symbol.iterator]();!(o=(s=a.next()).done);o=!0){var l=s.value,u=r.rotate(l,e.angle);u=r.scale(u,e.scale),t.push(u)}}catch(t){n=!0,i=t}finally{try{!o&&a.return&&a.return()}finally{if(n)throw i}}return t},this.getWorldPolygon=function(){var t=e.getPolygon(),o=[],n=!0,i=!1,s=void 0;try{for(var a,l=t[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var u=a.value;o.push(r.add(u,e.position))}}catch(t){i=!0,s=t}finally{try{!n&&l.return&&l.return()}finally{if(i)throw s}}return o},this.getWarpPositions=function(){var t=e.getWorldBounds(),o=[];return o.push(e.position),t.left<0&&t.top<0?(o.push({x:e.position.x+760,y:e.position.y}),o.push({x:e.position.x+760,y:e.position.y+480}),o.push({x:e.position.x,y:e.position.y+480})):t.left<0&&t.bottom>480?(o.push({x:e.position.x+760,y:e.position.y}),o.push({x:e.position.x+760,y:e.position.y-480}),o.push({x:e.position.x,y:e.position.y-480})):t.right>760&&t.top<0?(o.push({x:e.position.x-760,y:e.position.y}),o.push({x:e.position.x-760,y:e.position.y+480}),o.push({x:e.position.x,y:e.position.y+480})):t.right>760&&t.bottom>480?(o.push({x:e.position.x-760,y:e.position.y}),o.push({x:e.position.x-760,y:e.position.y-480}),o.push({x:e.position.x,y:e.position.y-480})):t.left<0?o.push({x:e.position.x+760,y:e.position.y}):t.right>760?o.push({x:e.position.x-760,y:e.position.y}):t.top<0?o.push({x:e.position.x,y:e.position.y+480}):t.bottom>480&&o.push({x:e.position.x,y:e.position.y-480}),o},this.getWarpBoundsAndPolygons=function(){var t=e.getWarpPositions(),o=e.getBounds(),n=e.getPolygon(),i=[],s=!0,a=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){var y=u.value,f=r.addVectorToBounds(y,o),h=[],d=!0,p=!1,v=void 0;try{for(var g,x=n[Symbol.iterator]();!(d=(g=x.next()).done);d=!0){var b=g.value,m=r.add(b,y);h.push(m)}}catch(t){p=!0,v=t}finally{try{!d&&x.return&&x.return()}finally{if(p)throw v}}i.push({bounds:f,polygon:h})}}catch(t){a=!0,l=t}finally{try{!s&&c.return&&c.return()}finally{if(a)throw l}}return i},this.render=function(t){t.save(),t.fillStyle="white",t.strokeStyle=e.color,t.lineWidth=3;var o=e.getWarpBoundsAndPolygons();t.beginPath();var n=!0,r=!1,i=void 0;try{for(var s,a=o[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value,u=l.polygon;t.moveTo(u[0].x,u[0].y);var c=!0,y=!1,f=void 0;try{for(var h,d=u[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var p=h.value;t.lineTo(p.x,p.y)}}catch(t){y=!0,f=t}finally{try{!c&&d.return&&d.return()}finally{if(y)throw f}}t.closePath()}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}t.stroke(),t.fill(),t.restore()},this.color="black";var o={x:Math.floor(760*Math.random()),y:Math.floor(480*Math.random())},i={x:380,y:240};this.position=r.pushVectorOutsideRadius(o,i,100),this.angle=Math.random()*Math.PI*2,this.velocity=r.create(1.5*Math.random(),Math.random()*Math.PI*2),this.scale=2.5*Math.random()+.5,this.angularVelocity=(.08*Math.random()-.04)/this.scale,this.polygon=[];for(var s=20,a=10/(3/this.scale),l=2*Math.PI/(25*Math.random()+6),u=0;u<=2*Math.PI;u+=Math.random()*l+l/10){s+=Math.random()*a-a/2;var c=r.create(s,u);this.polygon.push(c)}});e.a=i}]);
//# sourceMappingURL=main.94879beb.js.map